parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"4/Tv":[function(require,module,exports) {
function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(n){e(t,n,r[n])})}return t}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n="https://api.myjson.com/bins/8tvgs";function r(t,e,n){var r=t.find("th.time[onclick^=Init]").attr("onclick").split("Init(")[1].split(")")[0].split(","),a="".concat(r[2],"-").concat(r[3],"-").concat(r[4]," ").concat(r[1],":00:00"),i=void 0;setInterval(function(){null==i&&(i=$("div.leftchannel").width()/t.width()*100),e.css("margin-left",o(a,n)+i+"%")},1e3)}function o(t,e){var n=moment(t,"DD-MM-YYYY hh:mm:ss"),r=moment().diff(n),o=moment.duration(r).asMinutes()/(60*e)*100;return Math.floor(parseInt(o))}function a(){var t,e=(t=localStorage.getItem("xsltvhours"))?Number(t):4,n=(t=localStorage.getItem("xsltvfixgaps"))||!1,r=(t=localStorage.getItem("xsltvchannelpopups"))||!0,o=(t=localStorage.getItem("xsltvdescriptionpopups"))||!0,a=(t=localStorage.getItem("xsltvpopupdelay"))?Number(t):0,i=(t=localStorage.getItem("xsltvpopuptimes"))||!0,l=(t=localStorage.getItem("xsltvpopuprating"))||!0,s=(t=localStorage.getItem("xsltvpopupsubtitle"))||!0,u=(t=localStorage.getItem("xsltvpopupdescription"))||!0,c=(t=localStorage.getItem("xsltvpopupdate"))||!0,p=(t=localStorage.getItem("xsltvpopupcategories"))||!0,g=(t=localStorage.getItem("xsltvpopupstarrating"))||!0,m=(t=localStorage.getItem("xsltvoffsetminutes"))?Number(t):60,d=(t=localStorage.getItem("xsltvdayfirst"))||!1,h=(t=localStorage.getItem("xsltvcategorycolors"))||!0,f=(t=localStorage.getItem("xsltvloadonclick"))||"POPER",v=(t=localStorage.getItem("xsltvhighlightclickable"))||!0,x=(t=localStorage.getItem("xsltvhighlightnew"))||!0,P=(t=localStorage.getItem("xsltvprintdates"))||!0;return{offsetminutes:m,hours:e,fixgaps:n,popupdelay:a,timebarfrequency:(t=localStorage.getItem("xsltvtimebarfrequency"))||-1,channelpopups:r,descriptionpopups:o,popuptimes:i,popuprating:l,popupsubtitle:s,popupdescription:u,popupdate:c,popupcategories:p,popupstarrating:g,highlightclickable:v,highlightmovies:3,printdates:P,dayfirst:d,categorycolors:h,highlightnew:x,loadonclick:f}}$(function(){var e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.addEventListener("load",function(){if("serviceWorker"in navigator&&("https:"===window.location.protocol||"http:"===window.location.protocol||e)&&"serviceWorker"in navigator){var t,n;navigator.serviceWorker.register("service-worker.js").then(function(e){console.log("Service Worker Registered"),e.addEventListener("updatefound",function(){navigator.serviceWorker.controller&&null!=(t=e.installing)&&t.addEventListener("statechange",function(){switch(t.state){case"installed":document.getElementById("snackbar").className="show"}})})}),navigator.serviceWorker.addEventListener("controllerchange",function(){n||(window.location.reload(),n=!0)}),document.getElementById("reload").addEventListener("click",function(){t.postMessage({action:"skipWaiting"})})}});var o=$("#barclock"),l=$("#xmlt_list"),s=$("#tvframe"),u=$("#loading"),c=i();fetch(n).then(function(t){return t.json()}).then(function(t){if(l.empty().append("<option selected>Select one xmltv file</option>"),c.file&&l.append('<option value="'.concat(c.file,'">').concat(c.file,"</option>")),t&&t.files.length>0){t.files.forEach(function(t){return l.append('<option value="'.concat(t.url,'">').concat(t.name,"</option>"))});var e=$(l.find("option")[1]);e.prop("selected","selected"),N(e.val())}}).catch(function(e){return console.error(t({},e))}),setInterval(function(){o.find(".time").text(moment(new Date).format("LLLL"))},1e3),$('[data-toggle="tooltip"]').tooltip();var p,g=new XSLTProcessor,m=new Date;l.change(function(){N(l.val())});var d=a(),h=d.offsetminutes,f=d.hours,v=d.fixgaps,x=d.popupdelay,P=d.timebarfrequency,w=d.channelpopups,S=d.descriptionpopups,y=d.popuptimes,b=d.popuprating,D=d.popupsubtitle,M=d.popupdescription,I=d.popupdate,H=d.popupcategories,k=d.popupstarrating,E=d.highlightclickable,T=d.highlightmovies,L=d.printdates,O=d.dayfirst,Y=d.categorycolors,F=d.highlightnew,C=d.loadonclick,j=new Date(m);function N(t){u.css("display","block"),u.html("index.xsl"),fetch("index.xsl",{method:"GET"}).then(function(t){return t.text()}).then(function(t){return(new window.DOMParser).parseFromString(t,"text/xml")}).then(function(e){xsl=e,sortTag=xsl.getElementsByTagName("xsl:sort"),sortTag.item(0)||(sortTag=xsl.getElementsByTagName("sort")),sortTag.item(0).setAttribute("select",p),g.importStylesheet(xsl),function(t){if(t){if(u.css("display","block"),u.text(t),!window.XMLHttpRequest||!window.XSLTProcessor)return void alert("Your browser can't handle this script");fetch(t,{method:"GET"}).then(function(t){return t.text()}).then(function(t){return(new window.DOMParser).parseFromString(t,"text/xml")}).then(function(e){xml=e,xmlfileloaded=t,u.css("display","block"),u.text("Preparing grid..."),W(f,j.getHours(),j.getDate(),j.getMonth()+1,j.getFullYear())}).catch(function(e){var n=e.message+": "+filetext+" "+t+" "+notfoundtext+".";u.text(n)})}}(t)}).catch(function(e){var n=e.message+": "+filetext+" "+t+" "+notfoundtext+".";u.text(n)})}function W(t,e,n,o,a,i){u.show(),s.hide(),s.text("");var l=new Date(a,o-1,n,e,0,0);j=new Date(a,o-1,n,e,0,0);var c=new Date(a,o-1,n,e,0,0);c.setHours(c.getHours()+t);var p=new Date(a,o-1,n,e,0,0);p.setHours(p.getHours()-t),fileDate=l.getDate(),fileDate<10&&(fileDate="0"+fileDate),fileMonth=l.getMonth()+1,fileMonth<10&&(fileMonth="0"+fileMonth),intHours=l.getHours(),intMinutes=l.getMinutes(),starthours=intHours+":",intMinutes<10?startminutes="0"+intMinutes:startminutes=intMinutes,intHours=c.getHours(),intMinutes=c.getMinutes(),endhours=intHours+":",intMinutes<10?endminutes="0"+intMinutes:endminutes=intMinutes,gridstarttimestring=starthours+startminutes+" "+l.toDateString(),gridendtimestring=endhours+endminutes+" "+c.toDateString(),i&&(l.setHours(l.getHours()+i),c.setHours(c.getHours()+i),p.setHours(p.getHours()+i)),g.setParameter(null,"DisplayLength",t),g.setParameter(null,"CurrentHour",l.getHours()),g.setParameter(null,"CurrentDay",l.getDate()),g.setParameter(null,"CurrentMonth",l.getMonth()+1),g.setParameter(null,"CurrentYear",l.getFullYear()),g.setParameter(null,"StopHour",c.getHours()),g.setParameter(null,"StopDay",c.getDate()),g.setParameter(null,"StopMonth",c.getMonth()+1),g.setParameter(null,"StopYear",c.getFullYear()),g.setParameter(null,"PrevHour",p.getHours()),g.setParameter(null,"PrevDay",p.getDate()),g.setParameter(null,"PrevMonth",p.getMonth()+1),g.setParameter(null,"PrevYear",p.getFullYear()),g.setParameter(null,"FixGaps","true"===v.toString()?1:0),g.setParameter(null,"PopupDelay",x),g.setParameter(null,"EarlierText",earliertext),g.setParameter(null,"LaterText",latertext),g.setParameter(null,"TimeBarFrequency",P),g.setParameter(null,"ChannelPopups","true"===w.toString()?1:0),g.setParameter(null,"DescriptionPopups","true"===S.toString()?1:0),g.setParameter(null,"PopupTimes","true"===y.toString()?1:0),g.setParameter(null,"PopupRating","true"===b.toString()?1:0),g.setParameter(null,"PopupSubtitle","true"===D.toString()?1:0),g.setParameter(null,"PopupDescription","true"===M.toString()?1:0),g.setParameter(null,"PopupDate","true"===I.toString()?1:0),g.setParameter(null,"PopupCategories","true"===H.toString()?1:0),g.setParameter(null,"PopupStarRating","true"===k.toString()?1:0),g.setParameter(null,"HighlightClickable","true"===E.toString()?1:0),g.setParameter(null,"HighlightMovies",T),g.setParameter(null,"PrintDates","true"===L.toString()?1:0),g.setParameter(null,"DayFirst","true"===O.toString()?1:0),g.setParameter(null,"Categories","true"===Y.toString()?1:0),g.setParameter(null,"HighlightNew","true"===F.toString()?1:0),g.setParameter(null,"OnClick",C);var m=g.transformToFragment(xml,document);u.hide(),$far=$(m);var d=$('<div id="vline"><span class="vheader"></span></div>');$far.append(d),s.append($far),$('[data-toggle="tooltip"]').tooltip();var h=[];$('[data-toggle="popover"]').popover({html:!0}).on("shown.bs.popover",function(t){h.push($(t.target))}),$(document).on("click touchend",function(t){var e=$(t.target);h.forEach(function(t){e.is(t)||(t.popover("hide"),h=h.slice(h.indexOf(t),1))})}),r(s,d,f),s.show()}j.setMinutes(j.getMinutes()+(60-h)),p="display-name[3]",window.Init=W,u.css("display","block")});var i=function(){var t=window.location.search,e={};return t.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(t,n,r,o){e[n]=o}),e};
},{"./..\\service-worker.js":[["service-worker.js","AaGI"],"service-worker.map","AaGI"]}]},{},["4/Tv"], null)
//# sourceMappingURL=init.ce96ca9e.map